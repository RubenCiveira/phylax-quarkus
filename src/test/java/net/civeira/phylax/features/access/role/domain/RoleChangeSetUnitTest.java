package net.civeira.phylax.features.access.role.domain;

import org.junit.jupiter.api.Assertions;
import org.junit.jupiter.api.DisplayName;
import org.junit.jupiter.api.Test;

import net.civeira.phylax.features.access.relyingparty.domain.RelyingPartyReference;

class RoleChangeSetUnitTest {

  /**
   * @autogenerated CachedGenerator
   */
  @Test
  @DisplayName("Test a entity reference contruction")
  void test_role_change_set_builder() {
    RoleChangeSet one = RoleChangeSet.builder().uid("one").name("one")
        .relyingParty(RelyingPartyReference.of("one")).version(1).newUid().build();
    one.setUid("two");
    Assertions.assertEquals("two", one.getUid().get().getUid(),
        "Value must equals to the assigned value");
    one.unset("uid");
    Assertions.assertFalse(one.getUid().isPresent(), "After unset, the valeue must be dissapear");
    Assertions.assertEquals("one", one.getName().get().getName(),
        "Value must equals to the intial value");
    one.setName("two");
    Assertions.assertEquals("two", one.getName().get().getName(),
        "Value must equals to the assigned value");
    one.unset("name");
    Assertions.assertFalse(one.getName().isPresent(), "After unset, the valeue must be dissapear");
    Assertions.assertEquals(RelyingPartyReference.of("one"),
        one.getRelyingParty().get().getRelyingParty().get(),
        "Value must equals to the intial value");
    one.setRelyingParty(RelyingPartyReference.of("two"));
    Assertions.assertEquals(RelyingPartyReference.of("two"),
        one.getRelyingParty().get().getRelyingParty().get(),
        "Value must equals to the assigned value");
    one.unset("relyingParty");
    Assertions.assertFalse(one.getRelyingParty().isPresent(),
        "After unset, the valeue must be dissapear");
    Assertions.assertEquals(0, one.getVersion().get().getVersion().get(),
        "Value must equals to the intial value");
    one.setVersion(2);
    Assertions.assertEquals(2, one.getVersion().get().getVersion().get(),
        "Value must equals to the assigned value");
    one.unset("version");
    Assertions.assertFalse(one.getVersion().isPresent(),
        "After unset, the valeue must be dissapear");
  }
}
