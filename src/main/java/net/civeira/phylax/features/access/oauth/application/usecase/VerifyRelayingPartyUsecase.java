/* @autogenerated */
package net.civeira.phylax.features.access.oauth.application.usecase;

import java.util.Optional;

import jakarta.enterprise.context.ApplicationScoped;
import lombok.RequiredArgsConstructor;
import net.civeira.phylax.features.access.relyingparty.RelyingParty;
import net.civeira.phylax.features.access.relyingparty.gateway.RelyingPartyReadRepositoryGateway;
import net.civeira.phylax.features.access.relyingparty.query.RelyingPartyFilter;

@ApplicationScoped
@RequiredArgsConstructor
public class VerifyRelayingPartyUsecase {
  private final RelyingPartyReadRepositoryGateway parties;

  public Optional<String> findOptional(String apiKey) {
    return parties.find(RelyingPartyFilter.builder().apiKey(apiKey).build())
        .map(RelyingParty::getCodeValue);
  }
}
