/* @autogenerated */
package net.civeira.phylax.features.access.oauth.application.usecase;

import java.util.Optional;

import jakarta.enterprise.context.ApplicationScoped;
import lombok.RequiredArgsConstructor;
import net.civeira.phylax.features.access.relyingparty.domain.RelyingParty;
import net.civeira.phylax.features.access.relyingparty.domain.gateway.RelyingPartyFilter;
import net.civeira.phylax.features.access.relyingparty.domain.gateway.RelyingPartyReadRepositoryGateway;

@ApplicationScoped
@RequiredArgsConstructor
public class VerifyRelayingPartyUsecase {
  private final RelyingPartyReadRepositoryGateway parties;

  public Optional<String> findOptional(String apiKey) {
    return parties.find(RelyingPartyFilter.builder().apiKey(apiKey).build())
        .map(RelyingParty::getCode);
  }
}
