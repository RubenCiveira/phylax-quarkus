/* @autogenerated */
package net.civeira.phylax.common.exception;

import net.civeira.phylax.common.value.validation.ConstraintFail;
import net.civeira.phylax.common.value.validation.ConstraintFailList;

/**
 * Exception representing one or more constraint validation failures.
 *
 * It is a concrete {@link AbstractFailsException} that wraps constraint failures. Use it when input
 * data, commands, or domain invariants are violated. The exception carries structured details such
 * as field, value, and reason. Localized error responses can be produced via the parent class API.
 *
 * @see ConstraintFail
 * @see ConstraintFailList
 * @see AbstractFailsException
 */
public class ConstraintException extends AbstractFailsException {
  private static final long serialVersionUID = -6393019970767107758L;

  /**
   * Constructs a {@code ConstraintException} with a single constraint failure.
   *
   * The failure is wrapped into a list for consistent handling. Use this for simple validation
   * errors with one failing rule. The failure can later be localized and grouped by code.
   *
   * @param message the message
   * @param fail the constraint failure to include in the exception
   */
  public ConstraintException(String message, ConstraintFail fail) {
    super(message, fail);
  }

  /**
   * Constructs a {@code ConstraintException} with a list of constraint failures.
   *
   * This is useful when multiple fields fail validation simultaneously. The list preserves all
   * violations for later inspection or localization. The message is combined with the failure
   * details for the exception text.
   *
   * @param message the message
   * @param fails a list of multiple constraint violations
   */
  public ConstraintException(String message, ConstraintFailList fails) {
    super(message, fails);
  }

  /**
   * Constructs a {@code ConstraintException} with the given error metadata.
   *
   * This is a convenience constructor for building a single failure inline. It captures the error
   * code, field, and offending value for diagnostics. The error message describes the violation in
   * human-readable form.
   *
   * @param message the message
   * @param code the error code identifying the type of constraint violation
   * @param field the field or property associated with the violation
   * @param wrongValue the value that caused the failure
   * @param errorMessage a human-readable error message describing the problem
   */
  public ConstraintException(String message, String code, String field, Object wrongValue,
      String errorMessage) {
    super(message, new ConstraintFail(code, field, wrongValue, errorMessage));
  }

  /**
   * Constructs a {@code ConstraintException} with minimal violation information.
   *
   * This is a shorter form when a custom error message is not needed. The error code and field are
   * used to build localized messages later. The wrong value is stored for debugging and API
   * responses.
   *
   * @param message the message
   * @param code the error code identifying the type of constraint violation
   * @param field the field or property associated with the violation
   * @param wrongValue the value that caused the failure
   */
  public ConstraintException(String message, String code, String field, Object wrongValue) {
    super(message, new ConstraintFail(code, field, wrongValue));
  }


}
